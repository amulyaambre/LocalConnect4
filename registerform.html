<!DOCTYPE html>
<html lang="en">
<head>
    <title>
        Local Connect
    </title>
</head>
    
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Application form</title>
  <link rel="stylesheet" href="registerform.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  <body>
    
            <div class="container">
                <header>Apply Now</header>
                <div class="progress-bar">
                    <div class="step">
                        <p>Shop Name</p>
                        <div class="bullet">
                            <span>1</span>
                        </div>
                        <div class="check fas fa-check"></div>
                    </div>
                    <div class="step">
                        <p>Shop Contact</p>
                        <div class="bullet">
                            <span>2</span>
                        </div>
                        <div class="check fas fa-check"></div>
                    </div>
                    <div class="step">
                        <p>Shop GST Number</p>
                        <div class="bullet">
                            <span>3</span>
                        </div>
                        <div class="check fas fa-check"></div>
                    </div>
                    <div class="step">
                        <p>About Shop</p>
                        <div class="bullet">
                            <span>4</span>
                        </div>
                        <div class="check fas fa-check"></div>
                    </div>
                    <div class="step">
                        <p>Shop Address</p>
                        <div class="bullet">
                            <span>5</span>
                        </div>
                        <div class="check fas fa-check"></div>
                    </div>
                    <div class="step">
                        <p>Submit Application</p>
                        <div class="bullet">
                            <span>6</span>
                        </div>
                        <div class="check fas fa-check"></div>
                    </div>
                </div>
                <div class="form-outer">
                    <form  id="Registerationform">
                        <div class="page slide-page">
                            <div class="title">Basic Info:</div>
                            <div class="field">
                                <div class="label">First Name</div>
                                <input type="text" id="Fn" placeholder="First Name" required />
                            </div>
                            <div class="field">
                                <div class="label">Last Name</div>
                                <input type="text"  id="Ln" placeholder="Last Name" required />
                            </div>
                            <div class="field">
                                <button class="firstNext next">Next</button>
                            </div>
                        </div>

                        <div class="page">
                            <div class="title">Contact Info:</div>
                            <div class="field">
                                <div class="label" >Email Address</div>
                                <input type="text" id="ml" placeholder="@Mail.com" required />
                            </div>
                            <div class="field">
                                <div class="label">Phone Number</div>
                                <input type="Number"  id="Ph" placeholder="Phone number" required />
                            </div>
                            <div class="field btns">
                                <button class="prev-1 prev">Previous</button>
                                <button class="next-1 next">Next</button>
                            </div>
                        </div>
                        <div class="page">
                            <div class="title">Shop GST Number</div>
                            <div class="field">
                                <div class="label">Gst Number</div>
                                <input type="text"  id="GST" placeholder="0000 0000 0000 0000" required />
                            </div>
                        
                            <div class="field btns">
                                <button class="prev-2 prev">Previous</button>
                                <button class="next-2 next">Next</button>
                            </div>
                        </div>
                        <div class="page">
                            <div class="title">About Shop</div>
                            <div class="field">
                                <div class="label">Shop Details</div>
                                <input type="text" id="sd" placeholder="Shop Details" required />
                            </div>
                        
                            <div class="field btns">
                                <button class="prev-3 prev">Previous</button>
                                <button class="next-3 next">Next</button>
                            </div>
                        </div>

                        <div class="page">
                            <div class="title">Shop Address</div>
                            <div class="field">
                                <div class="label">Address</div>
                                <input type="text" id="sa" placeholder="Shop Address" required />
                            </div>
                            
                            <div class="field btns">
                                <button class="prev-4 prev">Previous</button>
                                <button class="next-4 next">Next</button>
                            </div>
                        </div>

                        <div class="page">
                            <div class="title">Login Details:</div>
                            <div class="field">
                                <div class="label">Username</div>
                                <input type="text" id="un" placeholder="Username" required />
                            </div>
                            <div class="field">
                                <div class="label">Password</div>
                                <input type="password" id="ps" placeholder="@Mail.com" required />
                            </div>
                            <div class="field btns">
                                <button class="prev-5 prev">Previous</button>
                                <button class="submit" type="submit" >Submit</button>

                                
                            </div>
                        </div>
                    </form>
                </div>
                <div class="credit">
                    <a href="index.html">Local Connect <span style="color:tomato"></span></a>
                </div>
            </div>
            
            
            <script type="module">
                // Import the functions you need from the SDKs you need
                import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
                import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-analytics.js";
                import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore.js";
              
                // Your web app's Firebase configuration
                var firebaseConfig = {
                    apiKey: "AIzaSyBaxbFLp7ffn3aH6ASHf5OAyyQIKeXUxVo",
                    authDomain: "local-connect-6350a.firebaseapp.com",
                    projectId: "local-connect-6350a",
                    storageBucket: "local-connect-6350a.appspot.com",
                    messagingSenderId: "212689090695",
                    appId: "1:212689090695:web:be11757e50b53e963ca022",
                    measurementId: "G-JJZJ0YC5Y5"
                  };
              
                const app = initializeApp(firebaseConfig);
                const db = getFirestore(app);
                const registrationForm = collection(db, "registrationFormDB");
              
                // Define a function to get element values
                function getElementVal(elementId) {
                  return document.getElementById(elementId).value;
                }
              
                document.getElementById('Registerationform').addEventListener('submit', async function (e) {
                  e.preventDefault();
              
                  var Firstname = getElementVal('Fn');
                  var Lastname = getElementVal('Ln');
                  var Email = getElementVal('ml');
                  var Phno = getElementVal('Ph');
                  var GST = getElementVal('GST');
                  var Aboutsp = getElementVal('sd');
                  var Shopadd = getElementVal('sa');
                  var Username = getElementVal('un');
                  var Password = getElementVal('ps');
              
                  if (true) {
                    try {
                      const docRef = await addDoc(registrationForm, {
                        Firstname: Firstname,
                        Lastname: Lastname,
                        Email: Email,
                        Phno: Phno,
                        GST: GST,
                        Aboutsp: Aboutsp,
                        Shopadd: Shopadd,
                        Username: Username,
                        Password: Password,
                        timestamp: new Date()
                      });
                      console.log("Document written with ID: ", docRef.id);
                      console.log(Firstname, Lastname, Email, Phno, GST, Aboutsp, Shopadd, Username, Password);
                      window.location.href = 'homepage.html';
                
                      // You can add further handling her
                    } catch (error) {
                      console.error("Error adding document: ", error);
                    }
                  }
              
                  // You can use the retrieved form values as needed
                  
                  
                });
                
              </script>
              
            
            

    </body>
</html>
